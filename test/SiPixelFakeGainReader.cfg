process PixelFakeGainReader = {

# MessageLogger
#include "FWCore/MessageService/data/MessageLogger.cfi"

untracked PSet maxEvents = {untracked int32 input = 1}

   source = EmptySource {
      untracked uint32 firstRun = 1 
      untracked uint32 numberEventsInRun = 10
   }

  # Services
   service = Timing {}
   service = SimpleMemoryCheck {
     untracked int32 ignoreTotal = 0 # default is one
   } 
   service = MessageLogger {
     untracked vstring destinations = { "pixelFakeGainReader.log" }
     untracked PSet pixelFakeGainReader.log = { untracked string threshold = "INFO" }
   }

  # Tracker SimGeometryXML
  include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"

  # Tracker Geometry Builder
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # Tracker Numbering Builder
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  # SiPixelGainCalibrationService
  include "CondTools/SiPixel/data/SiPixelGainCalibrationService.cfi"

  # Fake Gain ESSource
  include "CalibTracker/SiPixelESProducers/data/SiPixelFakeGainESSource.cfi"

   module  SiPixelFakeGainReader =  SiPixelFakeGainReader { 
	string fileName = "histos_full.root"
	using SiPixelGainCalibrationServiceParameters
   }

   path p = { SiPixelFakeGainReader }
   module print = AsciiOutputModule {}
   endpath ep = { print }

}
